<div>
  <%= render @user %>

  <% if can? :edit, @user %>
    <%= link_to "編集", edit_user_path(@user), class: 'btn btn-outline-info' %>
  <% end %>
  <%= link_to "戻る", users_path, class: 'btn btn-outline-secondary' %>
  <% if (can? :manage, @user) && @user != current_user %>
    <% if @user.active? %>
      <%= link_to "退職", retire_user_path(@user), data: { turbo_method: :patch }, class: 'btn btn-outline-danger', onclick: "return confirm('本当に退職しますか？')" %>
    <% else %>
      <%= link_to "復帰", restore_user_path(@user), data: { turbo_method: :patch }, class: 'btn btn-outline-success' %>
      <%= link_to "削除", @user, data: { turbo_method: :delete }, class: 'btn btn-outline-danger', onclick: "return confirm('本当に削除しますか？')" %>
    <% end %>
  <% end %>
</div>

<h2 class="mt-5"><%= @daily_reports.present? ? '最新の日報' : 'まだ日報を作成していません' %></h2>

<% @daily_reports.each do |daily_report| %>
  <%= render partial: 'daily_reports/daily_report', locals: { daily_report: daily_report } %>
  <p>
    <%= link_to "Show this daily report", daily_report %>
  </p>
<% end %>
